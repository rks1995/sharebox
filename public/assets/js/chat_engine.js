class ChatEngine{constructor(e,s){this.chatBoxId=$("#"+e),this.userEmail=s,this.socket=io.connect("http://localhost:5000"),s&&this.chatBoxHandler()}chatBoxHandler(){let o=this,e=(this.socket.on("connect",()=>{console.log("new connection established from client side"),o.socket.emit("join_room",{user_email:o.userEmail,chat_room:"shareboxroom"}),o.socket.on("user_joined",e=>{console.log("a user joined",e)})}),$(".send-button"));e.click(()=>{var e=$("#message-box").val();""!=e&&o.socket.emit("send_message",{message:e,user_email:o.userEmail,chat_room:"shareboxroom"})}),o.socket.on("recieved_message",e=>{console.log("a user joined",e);let s="user-2";e.user_email==o.userEmail&&(s="user-1");e=$("<p></p>").append(e.message);console.log(e),$(e).addClass(s),$(".message").append(e)})}}