function notySuccess(t){new Noty({theme:"relax",text:t,type:"success",layout:"topCenter",timeout:"1500"}).show()}function notyError(t){new Noty({theme:"relax",text:t,type:"error",layout:"topCenter",timeout:"1500"}).show()}let createPost=()=>{let e=$("#feed-posts");e.submit(function(t){t.preventDefault(),$.ajax({type:"post",url:"/post/create-post",data:e.serialize(),success:function(t){notySuccess(t.message);var e=t.data.post,e=newPostDom(e);$(".post-list-container > ul").prepend(e),deletePost($(".delete-post-button",e)),new PostComments(t.data.post._id),new ToggleLikes($(".like-button",e))},error:function(t){notyError(t.responseText)}})})},deletePost=e=>{$(e).click(function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(t){notySuccess(t.message),$("#post-"+t.data.post_id).remove()},error:function(t){console.log(t.responseText)}})})},convertPostToAjax=function(){$(".post-list-container > ul > li").each(function(){var t=$(this).prop("id").split("-")[1],e=$(".delete-post-button",$(this));deletePost(e),new PostComments(t),new ToggleLikes($(".like-button",$(this)))})};createPost(),convertPostToAjax();